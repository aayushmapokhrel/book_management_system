<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <meta name="robots" content="noindex, nofollow">
        <title></title>
		
        {% load static %}
		<!-- Favicon -->
        <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">
		
		<!-- Bootstrap CSS -->
		 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> 

        <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
         <link rel="stylesheet" href="{% static 'admin/css/base.css' %}"> 
		
		<!-- Fontawesome CSS -->
        <link rel="stylesheet" href= "{% static 'assets/css/font-awesome.min.css' %}">
		
		<!-- Lineawesome CSS -->
        <link rel="stylesheet" href="{% static 'assets/css/line-awesome.min.css' %}">
		
		<!-- Chart CSS -->
		<link rel="stylesheet" href="{% static 'assets/plugins/morris/morris.css' %}">
		
		<!-- Main CSS -->
        <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
  		<!-- Datatable CSS -->
		  <link rel="stylesheet" href="{% static 'assets/css/dataTables.bootstrap4.min.css' %}">

		
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="assets/js/html5shiv.min.js"></script>
			<script src="assets/js/respond.min.js"></script>
		<![endif]-->
    </head>
	
    <body>
		<!-- Main Wrapper -->
        <div class="main-wrapper">
		
			<!-- Header -->
            <div class="header">
			
				<!-- Logo -->
                <div class="header-left">
                    <a href="index.html" class="logo">
						<img src="assets/img/logo.png" width="40" height="40" alt="">
					</a>
                </div>
				<!-- /Logo -->
				
				<a id="toggle_btn" href="javascript:void(0);">
					<span class="bar-icon">
						<span></span>
						<span></span>
						<span></span>
					</span>
				</a>
				
				<!-- Header Title -->
                <div class="page-title-box">
					<h3>Visitor System</h3>
                </div>
				<!-- /Header Title -->
				
				<a id="mobile_btn" class="mobile_btn" href="#sidebar"><i class="fa fa-bars"></i></a>
				
				<!-- Header Menu -->
				<ul class="nav user-menu">
				

					<li class="nav-item dropdown has-arrow main-drop">
						<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
							<span class="user-img"><img src="assets/img/profiles/avatar-21.jpg" alt="">
							<span class="status online"></span></span>
							<span>Soeng Souy</span>
						</a>
						<div class="dropdown-menu">
							<a class="dropdown-item" href="profile.html">My Profile</a>
							<a class="dropdown-item" href="settings.html">Settings</a>
							<a class="dropdown-item" href="login.html">Logout</a>
						</div>
					</li>
				</ul>
				<!-- /Header Menu -->
				
				
				
            </div>
			<!-- /Header -->
			
			<!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-inner slimscroll">
					<div id="sidebar-menu" class="sidebar-menu">
						<ul>
							<li class="menu-title"> 
								<span>Main</span>
							</li>
							<li class="submenu">
								<a href="#"><i class="la la-dashboard"></i> <span> Entry</span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a class="" href="/donors/list/">Donation Entry</a></li>
									<li><a href="/visitor/list/">Visitor Entry</a></li>
								</ul>
								<ul style="display: none;">
								<a> Hello</a>
								</ul>
							</li>
							<li class="submenu">
								<a href="#"><i class="la la-users "></i> <span> Upload</span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a class="" href="/upload">Upload Excel</a></li>
								</ul>
								<ul style="display: none;">
								<a> Hello</a>
								</ul>
							</li>
							
						</ul>
					</div>
                </div>
			</div>
			<!-- /Sidebar -->
			
			<!-- Page Wrapper -->
            <div class="page-wrapper">
			
				<!-- Page Content -->
                <div class="content container-fluid">
				
					<!-- Page Header -->
					<div class="page-header">
						<div class="row">
							<div class="col-sm-12">
								<h3 class="page-title">Welcome Admin!</h3>
								<ul class="breadcrumb">
									<li> <a href= "/" class="breadcrumb-item active">Dashboard</a></li>
								</ul>
							</div>
						</div>
					</div>
					<!-- /Page Header -->
					{% block content %}
				
					<div class="row">
						<div class="col-md-6 col-sm-6 col-lg-6 col-xl-3">
							<div class="card dash-widget">
								<div class="card-body">
									<span class="dash-widget-icon"><i class="fa fa-cubes"></i></span>
									<div class="dash-widget-info">
										<h3>{{donor}}</h3>
										<span>Total Donor </span>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-6 col-lg-6 col-xl-3">
							<div class="card dash-widget">
								<div class="card-body">
									<span class="dash-widget-icon"><i class="fa fa-usd"></i></span>
									<div class="dash-widget-info">
										<h3>{{visitor}}</h3>
										<span> Total Visitor </span>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-6 col-lg-6 col-xl-3">
							<div class="card dash-widget">
								<div class="card-body">
									<span class="dash-widget-icon"><i class="fa fa-usd"></i></span>
									<div class="dash-widget-info">
										<h3>{{today_month_donation_amount}}</h3>
										<span>Total Donation of this month  </span>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6 col-sm-6 col-lg-6 col-xl-3">
							<div class="card dash-widget">
								<div class="card-body">
									<span class="dash-widget-icon"><i class="fa fa-usd"></i></span>
									<div class="dash-widget-info">
										<h3>84</h3>
										<span>Today Donor </span>
									</div>
								</div>
							</div>
						</div>
					
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								<div class="col-md-6 text-center">
									<div class="card">
										<div class="card-body">
											<h3 class="card-title">Totals Donation</h3>
											<div id="bar-charts"></div>
										</div>
									</div>
								</div>
								<div class="col-md-6 text-center">
									<div class="card">
										<div class="card-body">
											<h3 class="card-title">Total Donation and Total Visitor</h3>
											<div id="line-charts"></div>
										</div>
									</div>
								</div>
							</div>
						</div>
					<div class="col-md-6 d-flex">
						<div class="card card-table flex-fill">
							<div class="card-header">
								<h3 class="card-title mb-0">Highest Donor</h3>
							</div>
							<div class="card-body">
								<div class="table-responsive">	
									<table class="table custom-table table-nowrap mb-0">
										<thead>
											<tr>
												<th>S.N</th>
												<th>Name</th>
												{% comment %} <th>Address</th> {% endcomment %}
												<th>Phone</th>
												<th>Total Donation</th>
											</tr>
										</thead>
										<tbody>
											{% for donor in top_donor %}
											<tr>
												<td>{{forloop.counter}}</td>
												<td>{{donor.name}}</td>
												{% comment %} <td>{{donor.address}}</td> {% endcomment %}
												<td>{{donor.phone_number}}</td>
												<td>Rs {{donor.total_donation}}</td>
											</tr>
											{% endfor %}
										</tbody>
									</table>
								</div>
							</div>
							{% comment %} <div class="card-footer">
								<a href="payments.html">View all payments</a>
							</div> {% endcomment %}
						</div>
					</div>
					<div class="col-md-6 d-flex">
						<div class="card card-table flex-fill">
							<div class="card-header">
								<h3 class="card-title mb-0">Highest Visitor</h3>
							</div>
							<div class="card-body">
								<div class="table-responsive">	
									<table class="table custom-table table-nowrap mb-0">
										<thead>
											<tr>
												<th>S.N</th>
												<th>Name</th>
												{% comment %} <th>Address</th> {% endcomment %}
												<th>Phone</th>
												<th>Total Visit</th>
											</tr>
										</thead>
										<tbody>
											
											{% for visitor in top_visitor %}
											<tr>
												<td>{{forloop.counter}}</td>
												<td>{{visitor.name}}</td>
												{% comment %} <td>{{visitor.address}}</td> {% endcomment %}
												<td>{{visitor.phone_number}}</td>
												<td>{{visitor.visit_count}}</td>
											</tr>
											{% endfor %}
											
										</tbody>
									</table>
								</div>
							</div>
							{% comment %} <div class="card-footer">
								<a href="payments.html">View all payments</a>
							</div> {% endcomment %}
						</div>
					</div>
				</div>
				

					{% endblock content %}
					
				</div>
				<!-- /Page Content -->

            </div>
			<!-- /Page Wrapper -->
			
        </div>
		<!-- /Main Wrapper -->

		
		<!-- jQuery -->
        <script src="{% static 'assets/js/jquery-3.5.1.min.js' %}"></script>
		
		<!-- Bootstrap Core JS -->
        <script src="{% static 'assets/js/popper.min.js' %}"></script>
        <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
		
		<!-- Slimscroll JS -->
		<script src="{% static 'assets/js/jquery.slimscroll.min.js' %}"></script>
		
		<!-- Chart JS -->
		<script src="{% static 'assets/plugins/morris/morris.min.js' %}"></script>
		<script src="{% static 'assets/plugins/raphael/raphael.min.js' %}"></script>
		{% comment %} <script src="{% static 'assets/js/chart.js' %}"></script> {% endcomment %}
		
		<!-- Custom JS -->
		<script src="{% static 'assets/js/app.js' %}"></script>
		<script>
			// Bar Chart
			Morris.Bar({
				element: 'bar-charts',
				data: {{ bar_chart_data|safe }},
				xkey: 'y',
				ykeys: ['b'],
				labels: ['Total Donations in month'],
				lineColors: ['#f43b48'],
				lineWidth: '3px',
				barColors: ['#f43b48'],
				resize: true,
				redraw: true
			});
		</script>

		<script>
			// Bar Chart
			Morris.Line({
				element: 'line-charts',
				data: {{ line_chart_data|safe }},
				xkey: 'month',
				ykeys: ['visitor','donor'],
				labels: ['Total Visitor','Toral Donation'],
				lineColors: ['#f43b48','#453a94'],
				lineWidth: '3px',
				barColors: ['#f43b48'],
				resize: true,
				redraw: true
			});
		</script>
		<script src="{% static 'assets/js/jquery.dataTables.min.js' %}"></script>
		<script src="{% static 'assets/js/dataTables.bootstrap4.min.js' %}"></script>
    </body>
</html>
